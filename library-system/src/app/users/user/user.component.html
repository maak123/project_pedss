
<div style= "text-align:center; height: 158px;">
  <h2 class="jumbotron w3-yellow">Users Details</h2>
</div>


<div class="container" >
  
  <div class="col s12">
    <div class="row">
    
          <div class="col s5">
            <form class ="test" #form="ngForm" (ngSubmit)="onSubmit(form)">


              <input type="hidden" name="_id" #_id="ngModel" [(ngModel)]="userService.selectedUser._id">


              <div class="row">
                <div class="form-group col s6" [class.has-error]="nam.invalid && nam.touched">
              	<label>Name :
                    <label style="color:red">*</label>
                  </label>
                
                <div class="input-field col s12">
                  <input class = "form-control" type="text" name="name" #nam="ngModel" [(ngModel)]="userService.selectedUser.name" placeholder="Full Name" required>
                  <span class="help-block" *ngIf="nam.invalid && nam.touched">Name is required</span>

                  </div>
                </div>
              </div>

              <div class="row">
                <div class="form-group col s6" [class.has-error]="index.invalid && index.touched">
                <label>IndexNo :
                    <label style="color:red">*</label>
                  </label>
                
                <div class="input-field col s12">
                  <input class = "form-control" type="text" name="indexNo" #index="ngModel" [(ngModel)]="userService.selectedUser.indexNo" placeholder="Index No" required>
                  <span class="help-block" *ngIf="index.errors?.required  && index.touched"> Index number is Required  </span>
 
                </div>
                </div>
              </div>

              <div class="row">
                <div class="form-group col s6">
                <label>
                  RegNo :
                </label>
                
                <div class="input-field col s12" [class.has-error]="reg.invalid && reg.touched" >
                  <input class = "form-control" type="text" required name="regNo" #reg="ngModel" [(ngModel)]="userService.selectedUser.regNo" placeholder="Registration No" >
                  <span class="help-block" *ngIf="reg.invalid && reg.touched"> Registaton number is Required  </span>
  
                </div>
                </div>
              </div>

               <div class="form-group row col s6">
                  <label>
                    Faculty
                  </label>
                   
                  <div class="input-group" [class.has-error]="fac.invalid && fac.touched">
                    <select class = "form-control " name="faculty" required #fac="ngModel"[(ngModel)]="userService.selectedUser.faculty" required>
                      <option *ngFor = " let faculty of faculties" value={{faculty}}>{{faculty}}</option>
                    </select>
                    <span class="help-block" *ngIf="fac.invalid && fac.touched">Faculty is required</span>

                    </div>
                </div>

              <div class="row">
                <div class="form-group col s6" [class.has-error]="nic.invalid && nic.touched">
                <label>
                  Nic :
                </label>
                
                <div class="input-field col s12" >
                  <input class = "form-control" required maxlength="10" minlength="10" type="text" name="nic" #nic="ngModel" [(ngModel)]="userService.selectedUser.nic" placeholder="NIC" >
                  <span class="help-block" *ngIf="nic.errors?.required && nic.touched"> NIC number is required  </span>
                  <span class="help-block" *ngIf="nic.errors?.minlength && nic.touched"> NIC should be 10 characters  </span>  
                </div>
                </div>
              </div>

              <div class="row">
                <div class="form-group col s6" [class.has-error]="telephone.invalid && telephone.touched">
                <label>
                  Telephone :
                </label>
                
                <div class="input-field col s12">
                  <input class = "form-control" type="text" name="telephone" maxlength="10" minlength="10" pattern="^[0-9]*$" required #telephone="ngModel" [(ngModel)]="userService.selectedUser.telephone" placeholder="Telephone" >
                  <span class="help-block" *ngIf="telephone.errors?.required && telephone.touched"> Enter the phone numbers </span>
                  <span class="help-block" *ngIf="telephone.errors?.pattern && telephone.touched"> Please enter only integers </span>
                  <span class="help-block" *ngIf="telephone.errors?.minlength && telephone.touched"> Please enter 9 integers </span>
      
                </div>
                </div>
              </div>
              
              <div class="row">
                <div class="form-group col s6" [class.has-error]="email.invalid && email.touched">
                <label>
                  Email :
                </label>
                
                <div class="input-field col s12">
                  <input class = "form-control" type="text"  required pattern="^[a-zA-Z0-9_+.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9.]+$" name="email" #email="ngModel" [(ngModel)]="userService.selectedUser.email" placeholder="Email" >
                  <span class="help-block" 
                  *ngIf="email.errors?.required && email.touched"> Email  is Required  
                  </span>  
                  <span class="help-block" 
                  *ngIf="email.errors?.pattern && email.touched"> Email is invalid</span>
                </div>
                </div>
              </div>
 <!--
                <div class="row">
                      <div class="form-group col s6" >
                  <label>Position</label>
                   <select class = "form-control " name="positions" #name= "ngModel" [(ngModel)]="userService.selectedUser.positions">
                    <option value="Captain">Captain</option>
                          <option value="Vice Captain">Vice Captain</option>
                      </select> 
                  </div>
                   
                <div class="form-group col s6">
                  <label>Sport</label>
                  <input class="form-control" name="sport" #name="ngModel" [(ngModel)]="userService.selectedUser.sport" placeholder="Sport" required>
                </div>
                  
                </div>
-->
              

              <div class="row">
                <div class="form-group col s6" [class.has-error]="password.invalid && password.touched">
                <label>
                  Password :
                </label>
                
                <div class="input-field col s12">
                  <input class = "form-control" type="password" minlength="6" required name="password" #password="ngModel" [(ngModel)]="userService.selectedUser.password" >
                  <span class="help-block" *ngIf="password.errors?.required&& password.touched"> Password is required  </span>
                  <span class="help-block" *ngIf="password.errors?.minlength&& password.touched"> Minimum length of password is 6 </span>
      
                </div>
                </div>
              </div>
              
              <div class="row">
                <div class="form-group col s6">
                <div class="input-field col s12">
                  <button class="w3-button w3-blue w3-round w3-right " type="button" (click)="resetForm(form)">Reset</button>
                  <button class="w3-button w3-blue w3-round" type="submit" [disabled]="form.invalid">Submit</button>
                </div>
              </div>
              </div>

            </form>
          </div>
         
          <div class="col s7" style=" height: 520px; 
overflow: scroll;">
              <table class="responsive-table highlight">
                  <thead>
                    <tr>
                      <th>Name</th>
                      <th>RegNo</th>
                      <th></th>
                      <th></th>
                    </tr>
                  </thead>
                  <tr *ngFor="let user of userService.users">
                    <td>{{user.name}}</td>
                    <td>{{user.indexNo}}</td>
                    <td>
                        <a class="action-btn" (click)="onEdit(user)">
                          edit
                        </a>
                    </td>
                    <td>
                        <a class="action-btn" (click)="onDelete(user._id,form)">
                          delete
                        </a>
                    </td>
                  </tr>
                </table>
          </div>
      </div> 
</div>
</div>